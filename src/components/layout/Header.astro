---
import Navigation from './Navigation.astro';
import Button from '../ui/Button.astro';
import { SHOP_INFO } from '../../utils/constants';
---

<header
  id="header"
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-300"
>
  <div class="container-custom">
    <div class="flex items-center justify-between py-4">
      <!-- Logo -->
      <a href="/" class="flex items-center space-x-2 group">
        <div class="w-12 h-12 rounded-full gradient-sunset flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300">
          <span class="text-white font-bold text-xl">H</span>
        </div>
        <div>
          <h1 class="text-xl font-bold text-gradient">{SHOP_INFO.name}</h1>
          <p class="text-xs text-gray-600">{SHOP_INFO.tagline}</p>
        </div>
      </a>

      <!-- Navigation -->
      <Navigation />

      <!-- CTA Button -->
      <div class="hidden lg:block">
        <Button href="/contact" variant="primary">
          Đặt hàng ngay
        </Button>
      </div>
    </div>
  </div>
</header>

<script>
  // Header scroll effect
  const header = document.getElementById('header');
  let lastScroll = 0;

  window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;

    if (currentScroll > 100) {
      header?.classList.add('bg-white', 'shadow-md');
    } else {
      header?.classList.remove('bg-white', 'shadow-md');
    }

    // Hide header on scroll down, show on scroll up
    if (currentScroll > lastScroll && currentScroll > 500) {
      header?.style.setProperty('transform', 'translateY(-100%)');
    } else {
      header?.style.setProperty('transform', 'translateY(0)');
    }

    lastScroll = currentScroll;
  });
</script>
